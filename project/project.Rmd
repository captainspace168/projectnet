---
title: "R Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code.

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*.

```{r}
library(ggplot2)

```

```{r}
library(tidyverse)
```

```{r}


netflixlink<-"netflixShows.csv"
netflixShows<- read_csv(netflixlink,    col_types = cols(ratingDescription = col_integer(), 
        release_year = col_integer(), user_rating_score = col_integer(), 
        user_rating_size = col_integer()))
```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

```{r}
glimpse(netflixShows)


```

```{r}
head(netflixShows)
```

show the ratins and what they mean



show the ratins and what they mean 

```{r}
 rating_meaning<- netflixShows %>% 
  select(rating, ratingLevel )
distinct(rating_meaning)
 
```

select and creat difrent datasest with diffrent show each seperated by rating

```{r}
 netflixShows %>% 
select(title,rating ) %>% 
group_by(rating ) %>% 
arrange(rating)
```

find the lowest average rating per year

```{r}
netflixShows %>% 
  select(release_year,user_rating_score) %>% 
  group_by(release_year) %>% 
  summarise(averageRating = mean(user_rating_score,na.rm = TRUE))
```

find the aveger rating level per year

```{r}
netflixShows %>% 
  select( title, release_year,rating,ratingDescription,ratingLevel) %>% 
  group_by(ratingDescription,ratingLevel) %>% 
  count(ratingDescription,release_year )

  
 
  
```

```{r}
netflixShows %>% 
  distinct(ratingDescription)
```

```{r}
 ggplot(netflixShows ,aes(x= release_year,y=user_rating_score,  )) +
  geom_point( color="#E50914",fill="#E50914")+
  labs(title = "user ratings per year ",
       x = "release  year",
       y = "user rating ",)

```

```{r}
  ratings_1<-select(netflixShows,release_year, ratingLevel, ratingDescription) %>% 
  group_by(release_year) %>% 
  count(ratingDescription) %>% 
  arrange(desc(release_year))
ratings_1
```

```{r}


ggplot(data=ratings_1,aes(y= ratingDescription,x= release_year, color= rating)) +
geom_point(color="black",binwidth=5)+
  labs(title = "amount of diffrently rated movies per year ",
       x = "release  year",
       y = "age rating ",
       size = "age rating")
```












```{r}
ggplot(netflixShows, aes( y=user_rating_score,x=release_year)) +
  geom_point() 

```
```{r}
titlenum<-select(netflixShows, title, release_year) %>% 
  group_by(release_year) %>% 
  count(release_year)
titlenum
```

```{r}

ggplot(titlenum, aes(y=n,x=release_year))+
  geom_point()+ 
  labs(title = "amount of movies added per year ",
       x = "release  year",
       y = "number of movies ",
       size = "")
       
```



what was the average user rating for the movies made in 2016?
```{r}
netflixShows %>% 
  select(release_year, user_rating_score) %>% 
  filter(release_year==2016,) %>% 
  summarize(average_rating_2016=(mean(user_rating_score,na.rm=TRUE)))
```



the average user rating in the year 2016 was 86.835












